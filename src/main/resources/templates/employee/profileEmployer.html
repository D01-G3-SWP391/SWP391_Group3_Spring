<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Employer Dashboard - JOB4YOU</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" th:href="@{/css/navbarStudent_Employer.css}" />
    <link rel="stylesheet" th:href="@{/css/profileEmployer.css}" />
  </head>
  <body>
    <div th:replace="~{navbar/navbarEmployee :: navbarAdmin}"></div>
    <div class="main-content">
      <div class="profile-container">
        <!-- Success Alert -->
        <div th:if="${success}" class="alert alert-success alert-dismissible fade show" role="alert">
          <i class="bi bi-check-circle me-2"></i>
          <span th:text="${success}">Success message</span>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        
        <div th:if="${currentAccount != null and employer != null}">
          <!-- Profile Header Card -->
          <div class="profile-card">
            <div class="profile-header">
              <div>
                <img style="background-color: #e9ecef;
                display: flex;
                    align-items: center;
                    justify-content: center;
                  " src="/images/employee.jpeg" alt="Company Logo" class="company-logo"/>
              </div>
              <div class="profile-info">
                <h1 class="profile-title" th:text="${employer.companyName}">
                  Company name
                </h1>
                <p class="profile-subtitle">Employer</p>
                <div class="profile-actions">
                  <a href="#" class="btn-edit"><i class="bi bi-pencil-square"></i> Edit information</a>
                </div>
              </div>
            </div>

            <!-- Basic Info in same card -->
            <div class="info-grid">
              <div class="info-item"><i class="bi bi-envelope info-icon"></i>
                <div class="info-content">
                  <div class="info-label">Email</div>
                  <div class="info-value" th:text="${currentAccount.email}">email@example.com</div>
                </div>
              </div>

              <div class="info-item">
                <i class="bi bi-telephone info-icon"></i>
                <div class="info-content">
                  <div class="info-label">Phone number</div>
                  <div class="info-value" th:text="${currentAccount.phone ?: 'Chưa cập nhật'}">Số điện thoại</div>
                </div>
              </div>

              <div class="info-item">
                <i class="bi bi-geo-alt info-icon"></i>
                <div class="info-content">
                  <div class="info-label">Address</div>
                  <div class="info-value" th:text="${employer.companyAddress ?: 'Chưa cập nhật'}">Address company</div>
                </div>
              </div>

              <div class="info-item">
                <i class="bi bi-briefcase info-icon"></i>
                <div class="info-content">
                  <div class="info-label">Field</div>
                  <div class="info-value" th:text="${employer.jobField?.jobFieldName ?: 'Chưa cập nhật'}">Field of activity </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Company Description Section -->
          <div
            class="info-section"
            th:if="${employer.companyDescription != null and employer.companyDescription != ''}"
          >
            <h3 class="section-title">
              <i class="bi bi-file-text"></i> Mô tả công ty
            </h3>
            <div class="company-description">
              <p th:text="${employer.companyDescription}">Company description...</p>
            </div>
          </div>

          <!-- Additional Info Section -->
          <div class="info-section">
            <h3 class="section-title">
              <i class="bi bi-info-circle"></i> Additional information
            </h3>
            <div class="info-grid">
              <div class="info-item">
                <i class="bi bi-person info-icon"></i>
                <div class="info-content">
                  <div class="info-label">Representative</div>
                  <div class="info-value" th:text="${currentAccount.fullName}">User name</div>
                </div>
              </div>

              <div class="info-item">
                <i class="bi bi-shield-check info-icon"></i>
                <div class="info-content">
                  <div class="info-label">Account status</div>
                  <div class="info-value">
                    <span
                      th:if="${currentAccount.status.name() == 'active'}" class="badge bg-success">Active</span>
                    <span
                      th:if="${currentAccount.status.name() == 'inactive'}" class="badge bg-warning">Inactive</span>
                  </div>
                </div>
              </div>

              <div class="info-item">
                <i class="bi bi-hash info-icon"></i>
                <div class="info-content">
                  <div class="info-label">Company ID</div>
                  <div class="info-value" th:text="${employer.employerId}">
                    ID
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div
          th:unless="${currentAccount != null and employer != null}"
          class="profile-card"
        >
          <div class="no-data">
            <i
              class="bi bi-exclamation-triangle"
              style="font-size: 48px; color: #ffc107"
            ></i>
            <h3>Không tìm thấy thông tin</h3>
            <p>
              Không thể tải thông tin tài khoản hoặc thông tin công ty. Vui lòng
              thử lại sau.
            </p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
