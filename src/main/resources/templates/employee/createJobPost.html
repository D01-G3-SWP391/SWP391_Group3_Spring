<!DOCTYPE html>
<!--
    /*@thymesVar id="jobPost" type="com.example.swp391_d01_g3.model.JobPost" */
-->
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Đăng Tin Tuyển Dụng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/createJobPost.css}" />

</head>
<body>
<nav class="admin-vertical-navbar" id="adminNavbar" th:fragment="navbarAdmin">
    <div class="admin-logo-area">
        <a th:href="@{/}" class="admin-text-logo-link">
            <span class="admin-text-logo">JOB4YOU</span>
        </a>
        <button class="toggle-btn" id="toggleBtn">
            <i class="bi bi-list"></i>
        </button>
    </div>
    <ul class="admin-nav-links">
        <li>
            <a href="#" class="active">
                <i class="bi bi-house-door"></i>
                <span>Dashboard</span>
            </a>
        </li>
        <li>
            <a th:href="@{/Employer/Profile}">
                <i class="bi bi-people"></i>
                <span>Profile Employer</span>
            </a>
        </li>
        <li>
            <a th:href="@{/Employer/CreateJobPost}"><i class="bi bi-briefcase"></i><span>Jobs</span></a>
        </li>
        <li>
            <a th:href="@{/Employer/JobPosts}"><i class="bi bi-briefcase"></i><span>Danh sách tuyển dụng</span></a>
        </li>
        <li>
            <a href="#">
                <i class="bi bi-gear"></i>
                <span>Settings</span>
            </a>
        </li>
        <li>
            <a th:href="@{/logout}">
                <i class="bi bi-box-arrow-right"></i>
                <span>Logout</span>
            </a>
        </li>
    </ul>
</nav>
<script src="/js/navbarAdmin.js"></script>
<div class="main-content">
    <div class="header">Đăng tuyển dụng</div>
    <div class="form-container">
<!--        ver1-->
<!--        <form th:action="@{/Employer/CreateJobPost}" th:object="${jobPost}" method="post">-->

<!--            &lt;!&ndash; 1. Tiêu đề tin tuyển dụng &ndash;&gt;-->
<!--            <div class="form-group">-->
<!--                <label for="jobTitle">Tiêu đề tuyển dụng</label>-->
<!--                <input type="text" th:field="*{jobTitle}" class="form-control" id="jobTitle" placeholder="Nhập tiêu đề tin tuyển dụng" required />-->
<!--            </div>-->


<!--            <div class="form-group">-->
<!--                <label>Lĩnh vực và Loại công việc</label>-->
<!--                <div class="row">-->
<!--                    <div class="col">-->
<!--                        <select class="form-select" id="jobFieldId" name="jobFieldId" required>-->
<!--                            <option value="" disabled selected>&#45;&#45; Chọn lĩnh vực &#45;&#45;</option>-->
<!--                            <option th:each="field : ${jobFields}" th:value="${field.jobFieldId}" th:text="${field.jobFieldName}"></option>-->
<!--                        </select>-->
<!--                    </div>-->
<!--                    <div class="col">-->
<!--                        <select class="form-select" th:field="*{jobType}" id="jobType" required>-->
<!--                            <option value="" disabled selected>&#45;&#45; Chọn loại công việc &#45;&#45;</option>-->
<!--                            <option th:each="type : ${jobTypes}" th:value="${type}" th:text="${type}"></option>-->
<!--                        </select>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->

<!--            &lt;!&ndash; 3. Khu vực (jobLocation) &ndash;&gt;-->
<!--            <div class="form-group">-->
<!--                <label for="jobLocation">Khu vực</label>-->
<!--                <input type="text" th:field="*{jobLocation}" class="form-control" id="jobLocation" placeholder="Nhập khu vực/địa điểm" required />-->
<!--            </div>-->

<!--            &lt;!&ndash; 4. Lương thỏa thuận (jobSalary) &ndash;&gt;-->
<!--            <div class="form-group">-->
<!--                <label for="jobSalary">Lương thỏa thuận</label>-->
<!--                <input type="text" th:field="*{jobSalary}" class="form-control" id="jobSalary" placeholder="Ví dụ: 7–10 triệu VNĐ" />-->
<!--            </div>-->

<!--            &lt;!&ndash; 5. Yêu cầu công việc (jobRequirements) &ndash;&gt;-->
<!--            <div class="form-group">-->
<!--                <label for="jobRequirements">Mô tả công việc</label>-->
<!--                <textarea th:field="*{jobRequirements}" class="form-control" id="jobRequirements" rows="3" placeholder="Nhập yêu cầu (kinh nghiệm, kỹ năng…)"></textarea>-->
<!--            </div>-->

<!--            &lt;!&ndash; 6. Thông tin bổ sung / mô tả chi tiết (jobDescription) &ndash;&gt;-->
<!--            <div class="form-group">-->
<!--                <label for="jobDescription">Thông tin bổ sung</label>-->
<!--                <textarea th:field="*{jobDescription}" class="form-control" id="jobDescription" rows="5" placeholder="Nhập mô tả chi tiết về công việc, phúc lợi,…"></textarea>-->
<!--            </div>-->

<!--            &lt;!&ndash; Nút Hủy và Đăng việc &ndash;&gt;-->
<!--            <div class="buttons">-->
<!--                <a th:href="@{/employer/dashboard}" class="btn btn-secondary">Hủy</a>-->
<!--                <button type="submit" class="btn btn-primary">Đăng việc</button>-->
<!--            </div>-->
<!--        </form>-->
        <form th:action="@{/Employer/CreateJobPost}"
              th:object="${jobPostDTO}"
              method="post"
              id="createJobPostForm">

            <!-- CSRF -->
            <sec:csrfInput/>

            <!-- 1. Tiêu đề tin tuyển dụng -->
            <div class="form-group">
                <label for="jobTitle">Tiêu đề tuyển dụng</label>
                <input type="text"
                       th:field="*{jobTitle}"
                       class="form-control"
                       id="jobTitle"
                       placeholder="Nhập tiêu đề tin tuyển dụng"
                       required />
                <div th:if="${#fields.hasErrors('jobTitle')}"
                     th:errors="*{jobTitle}"
                     class="text-danger"></div>
            </div>

            <!-- 2. Lĩnh vực và Loại công việc -->
            <div class="form-group">
                <label>Lĩnh vực và Loại công việc</label>
                <div class="row">
                    <div class="col">
                        <select th:field="*{jobFieldId}"
                                class="form-select"
                                id="jobFieldId"
                                required>
                            <option th:value="${null}" disabled selected>-- Chọn lĩnh vực --</option>
                            <option th:each="field : ${jobFields}"
                                    th:value="${field.jobFieldId}"
                                    th:text="${field.jobFieldName}"/>
                        </select>
                        <div th:if="${#fields.hasErrors('jobFieldId')}"
                             th:errors="*{jobFieldId}"
                             class="text-danger"></div>
                    </div>
                    <div class="col">
                        <select th:field="*{jobType}"
                                class="form-select"
                                id="jobType"
                                required>
                            <option th:value="${null}" disabled selected>-- Chọn loại công việc --</option>
                            <option th:each="type : ${jobTypes}"
                                    th:value="${type}"
                                    th:text="${type}"/>
                        </select>
                        <div th:if="${#fields.hasErrors('jobType')}"
                             th:errors="*{jobType}"
                             class="text-danger"></div>
                    </div>
                </div>
            </div>

            <!-- 3. Khu vực (jobLocation) -->
            <div class="form-group">
                <label for="jobLocation">Khu vực</label>
                <input type="text"
                       th:field="*{jobLocation}"
                       class="form-control"
                       id="jobLocation"
                       placeholder="Nhập khu vực/địa điểm"
                       required />
                <div th:if="${#fields.hasErrors('jobLocation')}"
                     th:errors="*{jobLocation}"
                     class="text-danger"></div>
            </div>

            <!-- 4. Lương thỏa thuận (jobSalary) -->
            <div class="form-group">
                <label for="jobSalary">Lương thỏa thuận</label>
                <input type="text"
                       th:field="*{jobSalary}"
                       class="form-control"
                       id="jobSalary"
                       placeholder="Ví dụ: 7–10 triệu VNĐ" />
                <div th:if="${#fields.hasErrors('jobSalary')}"
                     th:errors="*{jobSalary}"
                     class="text-danger"></div>
            </div>

            <!-- 5. Yêu cầu công việc (jobRequirements) -->
            <div class="form-group">
                <label for="jobRequirements">Yêu cầu công việc</label>
                <textarea th:field="*{jobRequirements}"
                          class="form-control"
                          id="jobRequirements"
                          rows="3"
                          placeholder="Kinh nghiệm, kỹ năng…"></textarea>
                <div th:if="${#fields.hasErrors('jobRequirements')}"
                     th:errors="*{jobRequirements}"
                     class="text-danger"></div>
            </div>

            <!-- 6. Mô tả chi tiết (jobDescription) -->
            <div class="form-group">
                <label for="jobDescription">Mô tả chi tiết</label>
                <textarea th:field="*{jobDescription}"
                          class="form-control"
                          id="jobDescription"
                          rows="5"
                          placeholder="Mô tả công việc, phúc lợi,…"></textarea>
                <div th:if="${#fields.hasErrors('jobDescription')}"
                     th:errors="*{jobDescription}"
                     class="text-danger"></div>
            </div>

            <!-- Nút Hủy và Đăng việc -->
            <div class="buttons mt-3">
                <a th:href="@{/Employer/JobPosts}" class="btn btn-secondary">Hủy</a>
                <button type="submit" class="btn btn-primary">Đăng việc</button>
            </div>
        </form>
    </div>
</div>

</body>
</html>