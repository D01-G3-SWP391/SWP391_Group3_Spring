<!--<!DOCTYPE html>-->
<!--<html lang="vi" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Title</title>-->
<!--  <link rel="stylesheet" th:href="@{/css/language-switcher.css}" />-->
<!--  <link-->
<!--          href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&display=swap"-->
<!--          rel="stylesheet"-->
<!--  />-->
<!--  <meta charset="UTF-8">-->
<!--  <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--  <title>Ứng tuyển công việc</title>-->
<!--  <link rel="stylesheet" th:href="@{/css/apply-form.css}">-->
<!--</head>-->
<!--<body>-->
<!--&lt;!&ndash; Modal Overlay &ndash;&gt;-->
<!--<div id="applyForm" class="modal-overlay">-->
<!--  <div class="modal-content">-->
<!--    <div class="modal-header">-->
<!--      <h2>Ứng tuyển</h2>-->
<!--      <button class="close-btn" onclick="closeApplyForm()">&times;</button>-->
<!--    </div>-->

<!--    <form th:action="@{/Student/addJobApplication}" method="post" th:object="${jobApplicationDTO}" th:each="job : ${jobPosts}">-->
<!--      <input type="hidden" th:value="${studentDetails.studentId != null ? studentDetails.studentId : null}" name="studentId">-->
<!--      <input type="hidden" th:value="${job.jobPostId != null ? job.jobPostId : null}" name="jobPostId">-->

<!--      <div class="form-group">-->
<!--        <label for="fullName">Họ và tên *</label>-->
<!--        <input type="text" id="fullName" name="fullName" th:field="*{fullname}" required/>-->
<!--      </div>-->

<!--      <div class="form-group">-->
<!--        <label for="email">Email *</label>-->
<!--        <input type="email" id="email" name="email" th:field="*{email}" required/>-->
<!--      </div>-->

<!--      <div class="form-group">-->
<!--        <label for="phone">SĐT *</label>-->
<!--        <input type="text" id="phone" name="phone" th:field="*{phoneNumber}" required/>-->
<!--      </div>-->
<!--      <div class="form-group">-->
<!--        <label for="content">Nội dung *</label>-->
<!--        <textarea id="content" name="content" th:field="*{description}" placeholder="Tôi muốn ứng tuyển vị trí này" required></textarea>-->
<!--      </div>-->

<!--      <div class="form-group">-->
<!--        <label for="cv">Hồ sơ ứng viên (CV)</label>-->
<!--        <input th:field="*{cv_url}" type="file" id="cv" name="cv" accept=".pdf,.png,.jpg,.jpeg,.gif" onchange="validateCVFile(this)"/>-->
<!--        <p class="file-info">Hỗ trợ định dạng PDF và ảnh (png, jpg, jpeg, gif) nhỏ hơn 2048KB</p>-->
<!--        <p class="cv-tip">Gửi kèm hồ sơ (CV) giúp bạn tăng cơ hội được tuyển dụng. Tạo tài khoản và hồ sơ trên hệ thống giúp bạn nhận được nhiều thông tin việc làm từ Nhà tuyển dụng</p>-->
<!--        <div id="cv-error" class="file-error" style="display: none;"></div>-->
<!--      </div>-->

<!--      <div class="button-group">-->
<!--        <button type="submit" class="submit-btn">Gửi</button>-->
<!--        <button type="button" class="cancel-btn" onclick="closeApplyForm()">Đóng</button>-->
<!--      </div>-->
<!--    </form>-->
<!--  </div>-->
<!--</div>-->

<!--<script>-->
<!--  // CV File Validation Function-->
<!--  function validateCVFile(input) {-->
<!--    const errorDiv = document.getElementById('cv-error');-->
<!--    const allowedTypes = ['application/pdf', 'image/png', 'image/jpg', 'image/jpeg', 'image/gif'];-->
<!--    const maxSize = 2048 * 1024; // 2048KB in bytes-->

<!--    // Clear previous errors-->
<!--    errorDiv.style.display = 'none';-->
<!--    errorDiv.textContent = '';-->
<!--    input.setCustomValidity('');-->

<!--    if (input.files.length === 0) {-->
<!--      return true; // No file selected is okay-->
<!--    }-->

<!--    const file = input.files[0];-->

<!--    // Check file type-->
<!--    if (!allowedTypes.includes(file.type)) {-->
<!--      const errorMessage = 'Chỉ chấp nhận file PDF và ảnh (PNG, JPG, JPEG, GIF)';-->
<!--      showFileError(errorDiv, errorMessage);-->
<!--      input.setCustomValidity(errorMessage);-->
<!--      input.value = ''; // Clear the input-->
<!--      return false;-->
<!--    }-->

<!--    // Check file size-->
<!--    if (file.size > maxSize) {-->
<!--      const errorMessage = 'Kích thước file không được vượt quá 2048KB';-->
<!--      showFileError(errorDiv, errorMessage);-->
<!--      input.setCustomValidity(errorMessage);-->
<!--      input.value = ''; // Clear the input-->
<!--      return false;-->
<!--    }-->

<!--    return true;-->
<!--  }-->

<!--  function showFileError(errorDiv, message) {-->
<!--    errorDiv.textContent = message;-->
<!--    errorDiv.style.display = 'block';-->
<!--  }-->

<!--  // Form submission validation-->
<!--  document.addEventListener('DOMContentLoaded', function() {-->
<!--    const form = document.querySelector('form[th\\:action*="addJobApplication"]');-->
<!--    if (form) {-->
<!--      form.addEventListener('submit', function(e) {-->
<!--        const cvInput = document.getElementById('cv');-->
<!--        if (cvInput && cvInput.files.length > 0) {-->
<!--          if (!validateCVFile(cvInput)) {-->
<!--            e.preventDefault();-->
<!--            return false;-->
<!--          }-->
<!--        }-->
<!--      });-->
<!--    }-->
<!--  });-->

<!--  function closeApplyForm() {-->
<!--    document.getElementById('applyForm').classList.add('hidden');-->
<!--  }-->

<!--  function showApplyForm() {-->
<!--    document.getElementById('applyForm').classList.remove('hidden');-->
<!--  }-->

<!--  // Đóng form khi click bên ngoài-->
<!--  document.getElementById('applyForm').addEventListener('click', function(e) {-->
<!--    if (e.target === this) {-->
<!--      closeApplyForm();-->
<!--    }-->
<!--  });-->

<!--  // Đóng form bằng phím ESC-->
<!--  document.addEventListener('keydown', function(e) {-->
<!--    if (e.key === 'Escape' && !document.getElementById('applyForm').classList.contains('hidden')) {-->
<!--      closeApplyForm();-->
<!--    }-->
<!--  });-->
<!--</script>-->
<!--</body>-->
<!--<script th:src="@{/js/languageSwitch.js}"></script>-->

<!--</html>-->
